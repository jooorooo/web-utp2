(self.webpackChunk=self.webpackChunk||[]).push([[773],{6099:(t,e,s)=>{s(9147),s(1026)},9147:(t,e,s)=>{var a;window._=s(6486),window.axios=s(9669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.headers.common["X-CSRF-TOKEN"]=null===(a=document.querySelector('meta[name="csrf-token"]'))||void 0===a?void 0:a.getAttribute("content")},1026:(t,e,s)=>{"use strict";s.r(e);var a=s(538),r=s(8345),i=s(8751),o=s.n(i),n=s(7564),l=s.n(n);s(6486);const c={name:"PinsList",props:{getItemsAxios:{required:!0,type:Function}},data:function(){return{items:[],loading:!1,itemWidth:0,page:1,hasMore:1}},mounted:function(){var t;this.items=[],this.getItems(),this.getNextPage(),this.itemWidth=(t=document.querySelector(".cart-dimensions"))?t.scrollWidth||t.clientWidth:320},methods:{getItems:function(){var t=this;this.hasMore&&!this.loading&&(this.loading=!0,this.getItemsAxios(this.page).then((function(e){e.data.data.length<1?t.hasMore=!1:(t.items=t.items.concat(e.data.data),t.loading=!1,t.page++)})).catch((function(e){t.loading=!1,console.log(e)})))},getNextPage:function(){var t=this;window.onscroll=function(){document.documentElement.scrollTop+window.innerHeight>document.documentElement.offsetHeight-100&&!t.loading&&t.getItems()}},initMasonry:function(){var t=this.$refs.masonryGridSystem;t&&l()(t,(function(){new(o())(t,{itemSelector:".grid-item",percentPosition:!0})}))},itemImageDimensions:function(t){var e=t.width/this.itemWidth;return{width:this.itemWidth+"px",height:Math.round(t.height/e)+"px"}}},watch:{items:function(){this.initMasonry()}}};var d=s(1900);const m=(0,d.Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{visible:!t.loading}},[s("div",{ref:"masonryGridSystem",staticClass:"row  masonryGridSystem"},[t._m(0),t._v(" "),t._l(t.items,(function(e,a){return s("div",{key:a,ref:"masonryGridItem",refInFor:!0,staticClass:"grid-item col-sm-6 col-lg-3 mb-4"},[s("div",{staticClass:"card shadow-sm"},[s("div",{staticClass:"card-title"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[s("div",{staticClass:"ps-1"},[s("router-link",{staticClass:"btn btn-light",attrs:{to:"/user/"+e.user.id}},[s("img",{staticClass:"bd-placeholder-img rounded-circle",staticStyle:{width:"40px",height:"40px"},attrs:{src:e.user.avatar,alt:e.user.name}}),t._v("\n                                    "+t._s(e.user.name)+"\n                                ")])],1)])])]),t._v(" "),s("router-link",{staticClass:"btn btn-light p-0 border-0 text-start",attrs:{to:"/view/"+e.id}},[s("img",{staticClass:"card-img-top",style:t.itemImageDimensions(e),attrs:{src:e.image,alt:e.title}}),t._v(" "),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text",domProps:{innerHTML:t._s(e.title)}})])]),t._v(" "),s("div",{staticClass:"card-footer"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 text-start pt-1"},[s("font-awesome-icon",{attrs:{icon:"fa-solid fa-comments"}}),t._v(" "+t._s(e.comments_count)+"\n                        ")],1),t._v(" "),s("div",{staticClass:"col-sm-9 text-end"},[s("router-link",{staticClass:"btn btn-danger",attrs:{to:"/view/"+e.id}},[t._v("View more")])],1)])])],1)])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"grid-item col-sm-6 col-lg-3",staticStyle:{height:"0 !important","font-size":"0 !important","margin-bottom":"0 !important"}},[e("div",{staticClass:"card shadow-sm cart-dimensions"})])}],!1,null,null,null).exports,u={components:{PinsList:m},methods:{getItems:function(t){return axios.get("/api/pins?page="+t)}}};const v=[{path:"/",name:"home",component:(0,d.Z)(u,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("pins-list",{attrs:{getItemsAxios:t.getItems}})}),[],!1,null,null,null).exports}];const p={components:{PinsList:m},methods:{getItems:function(t){return axios.get("/api/pins/user/"+this.$route.params.id+"?page="+t)}}};const f=[{path:"/user/:id",name:"user",component:(0,d.Z)(p,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("pins-list",{attrs:{getItemsAxios:t.getItems}})}),[],!1,null,null,null).exports}];const g={data:function(){return{item:null}},mounted:function(){this.getItem()},methods:{getItem:function(){var t=this;axios.get("/api/pins/view/"+this.$route.params.id).then((function(e){t.item=e.data})).catch((function(e){t.item=!1,console.log(e)}))}}};var h=s(3379),_=s.n(h),C=s(174),w={insert:"head",singleton:!1};_()(C.Z,w);C.Z.locals;const b=[{path:"/view/:id",name:"view",component:(0,d.Z)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.item?s("div",[s("div",{staticClass:"card shadow-sm"},[s("div",{staticClass:"card-title"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[s("div",{staticClass:"ps-1"},[s("router-link",{staticClass:"btn btn-light",attrs:{to:"/user/"+t.item.user.id}},[s("img",{staticClass:"bd-placeholder-img rounded-circle",staticStyle:{width:"40px",height:"40px"},attrs:{src:t.item.user.avatar,alt:t.item.user.name}}),t._v(" "),s("span",{staticClass:"ms-1"},[t._v(t._s(t.item.user.name))])])],1)])])]),t._v(" "),s("div",{staticClass:"text-center"},[s("img",{staticClass:"card-img-top",staticStyle:{"max-width":"100%",height:"auto"},style:{width:t.item.width+"px"},attrs:{src:t.item.image,alt:t.item.title}})]),t._v(" "),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text",domProps:{innerHTML:t._s(t.item.title)}})]),t._v(" "),s("div",{staticClass:"card-footer"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 text-start pt-1"},[s("font-awesome-icon",{attrs:{icon:"fa-solid fa-comments"}}),t._v(" "+t._s(t.item.comments_count)+"\n                ")],1)])])]),t._v(" "),t.item.comments_count>0?s("div",{staticClass:"accordion mt-2"},t._l(t.item.comments,(function(e){return s("div",{staticClass:"accordion-item"},[s("h2",{staticClass:"accordion-header"},[s("div",{staticClass:"accordion-button",attrs:{type:"button"}},[s("img",{staticClass:"bd-placeholder-img rounded-circle",staticStyle:{width:"40px",height:"40px"},attrs:{src:e.user.avatar,alt:e.user.name}}),t._v(" "),s("span",{staticClass:"ms-2"},[t._v(t._s(e.user.name))])])]),t._v(" "),s("div",{staticClass:"accordion-collapse collapse show"},[s("div",{staticClass:"accordion-body"},[t._v("\n                    "+t._s(e.comment)+"\n                ")])])])})),0):t._e()]):!1===t.item?s("div",[t._v("\n    404\n")]):t._e()}),[],!1,null,null,null).exports}];const x={data:function(){return{email:"",password:"",error:null,errors:{email:null,password:null}}},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),axios.get("/sanctum/csrf-cookie").then((function(t){axios.post("api/login",{email:e.email,password:e.password}).then((function(t){e.$root.user={isLoggedIn:!0,user:t.data.user},e.$router.push("/")})).catch((function(t){t.response.data.errors&&(e.errors=t.response.data.errors),e.error=t.response.data.message}))}))}},beforeRouteEnter:function(t,e,s){s((function(t){if(t.$root.user.isLoggedIn)return s("/");s()}))}};const y=[{path:"/login",name:"login",component:(0,d.Z)(x,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8"},[null!==t.error?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                "+t._s(t.error)+"\n            ")]):t._e(),t._v(" "),s("div",{staticClass:"card card-default"},[s("div",{staticClass:"card-header"},[t._v("Login")]),t._v(" "),s("div",{staticClass:"card-body"},[s("form",[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("E-Mail Address")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",type:"email",required:"",autofocus:"",autocomplete:"off"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t.errors.email?s("div",{staticClass:"text text-danger"},[t._v("\n                                    "+t._s(t.errors.email[0])+"\n                                ")]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",required:"",autocomplete:"off"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t.errors.password?s("div",{staticClass:"text text-danger"},[t._v("\n                                    "+t._s(t.errors.password[0])+"\n                                ")]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.handleSubmit}},[t._v("\n                                    Login\n                                ")])])])])])])])])])}),[],!1,null,null,null).exports}];const k={data:function(){return{name:"",email:"",password:"",error:null,errors:{name:null,email:null,password:null}}},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),axios.get("/sanctum/csrf-cookie").then((function(t){axios.post("api/register",{name:e.name,email:e.email,password:e.password}).then((function(t){e.$router.push("/login")})).catch((function(t){t.response.data.errors&&(e.errors=t.response.data.errors),e.error=t.response.data.message}))}))}},beforeRouteEnter:function(t,e,s){s((function(t){if(t.$root.user.isLoggedIn)return s("/");s()}))}};const I=[{path:"/register",name:"register",component:(0,d.Z)(k,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8"},[null!==t.error?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                "+t._s(t.error)+"\n            ")]):t._e(),t._v(" "),s("div",{staticClass:"card card-default"},[s("div",{staticClass:"card-header"},[t._v("Register")]),t._v(" "),s("div",{staticClass:"card-body"},[s("form",[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-4 col-form-label text-md-right",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{id:"name",type:"email",required:"",autofocus:"",autocomplete:"off"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),t.errors.name?s("div",{staticClass:"text text-danger"},[t._v("\n                                    "+t._s(t.errors.name[0])+"\n                                ")]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("E-Mail Address")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",type:"email",required:"",autofocus:"",autocomplete:"off"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t.errors.email?s("div",{staticClass:"text text-danger"},[t._v("\n                                    "+t._s(t.errors.email[0])+"\n                                ")]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",required:"",autocomplete:"off"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t.errors.password?s("div",{staticClass:"text text-danger"},[t._v("\n                                    "+t._s(t.errors.password[0])+"\n                                ")]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.handleSubmit}},[t._v("\n                                    Register\n                                ")])])])])])])])])])}),[],!1,null,null,null).exports}];const $={data:function(){return{image:"",title:"",errors:{title:null,message:null},error:null}},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),axios.get("/sanctum/csrf-cookie").then((function(t){axios.post("api/pins/create",{image:e.image,title:e.title}).then((function(t){e.$router.push("/")})).catch((function(t){t.response.data.errors&&(e.errors=t.response.data.errors),e.error=t.response.data.message}))}))}},beforeRouteEnter:function(t,e,s){s((function(t){if(!t.$root.user.isLoggedIn)return s("/login");s()}))}};const S=[{path:"/create-pin",name:"create-pin",component:(0,d.Z)($,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8"},[null!==t.error?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                "+t._s(t.error)+"\n            ")]):t._e(),t._v(" "),s("div",{staticClass:"card card-default"},[s("div",{staticClass:"card-header"},[t._v("Create pin")]),t._v(" "),s("div",{staticClass:"card-body"},[s("form",[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Title")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{id:"title",type:"text",required:"",autofocus:"",autocomplete:"off"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),t.errors.title?s("div",{staticClass:"text text-danger"},[t._v("\n                                    "+t._s(t.errors.title[0])+"\n                                ")]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Image url")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.image,expression:"image"}],staticClass:"form-control",attrs:{id:"image",type:"url",required:"",autofocus:"",autocomplete:"off"},domProps:{value:t.image},on:{input:function(e){e.target.composing||(t.image=e.target.value)}}}),t._v(" "),t.errors.image?s("div",{staticClass:"text text-danger"},[t._v("\n                                    "+t._s(t.errors.image[0])+"\n                                ")]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.handleSubmit}},[t._v("\n                                    Save\n                                ")])])])])])])])])])}),[],!1,null,null,null).exports}];const E={name:"error404"};const L=[{path:"*",name:"404",component:(0,d.Z)(E,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n    404\n")])}),[],!1,null,null,null).exports}];function P(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Z(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}a.Z.use(r.Z);const A=new r.Z({routes:[].concat(P(L),P(v),P(f),P(b),P(S),P(I),P(y)),mode:"history"});var q=s(8947),M=s(1436),N=s(7810);q.vI.add(M.lXL);const R=N.GN;const W={name:"App",data:function(){return{navCollapse:!1}},methods:{logout:function(t){var e=this;t.preventDefault(),axios.get("/sanctum/csrf-cookie").then((function(t){axios.post("/api/logout").then((function(t){t.data.success?(e.$root.user={isLoggedIn:!1},"home"!==e.$route.name&&e.$router.push("/")):console.log(t)})).catch((function(t){console.error(t)}))}))}}};const j=(0,d.Z)(W,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"h-100 container"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("button",{staticClass:"navbar-toggler",attrs:{type:"button"},on:{click:function(e){t.navCollapse=!t.navCollapse}}},[s("span",{staticClass:"navbar-toggler-icon"})]),t._v(" "),s("div",{staticClass:"collapse navbar-collapse",class:{show:t.navCollapse}},[s("div",{staticClass:"navbar-nav"},[s("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/"}},[t._v("Home")]),t._v(" "),t.$root.user.isLoggedIn?s("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/create-pin"}},[t._v("Create pin")]):t._e(),t._v(" "),t.$root.user.isLoggedIn?s("a",{staticClass:"nav-item nav-link",staticStyle:{cursor:"pointer"},on:{click:t.logout}},[t._v("Logout")]):t._e(),t._v(" "),t.$root.user.isLoggedIn?t._e():s("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/login"}},[t._v("login")]),t._v(" "),t.$root.user.isLoggedIn?t._e():s("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/register"}},[t._v("Register")]),t._v(" "),s("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/about"}},[t._v("About (404 url)")])],1),t._v(" "),t._m(0)])]),t._v(" "),s("router-view",{key:t.$route.fullPath})],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"d-flex"},[s("input",{staticClass:"form-control me-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"}}),t._v(" "),s("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"}},[t._v("Search")])])}],!1,null,null,null).exports;a.Z.component("font-awesome-icon",R);new a.Z({el:"#app",router:A,data:function(){return{user:Laravel}},render:function(t){return t(j)}})},174:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});var a=s(3645),r=s.n(a)()((function(t){return t[1]}));r.push([t.id,".accordion-button:after{display:none}",""]);const i=r},8916:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[170,898],(()=>(e(6099),e(8916))));t.O()}]);